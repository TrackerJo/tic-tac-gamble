import{c as G,j as e,r as s,s as R}from"./auth-BQqFf9p-.js";import{B as N,P as h,T as m,a as v,D as P}from"./dice-kvIfya4H.js";G.createRoot(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(w,{})}));function w(){const[t,j]=s.useState(new N),[i,T]=s.useState("X"),[r,l]=s.useState(5),[o,u]=s.useState("ROLLING"),[a,c]=s.useState(1),[d,I]=s.useState(!1),[f,g]=s.useState(!1);s.useEffect(()=>{R()},[]),s.useEffect(()=>{const n=new N;n.initi(3,3),j(n)},[]);const p=(n,b,E)=>{const x=t.clone();if(o===m.INVESTING){if(r<=0)return;x.grid[n.y][n.x].investPoints(b,1),l(r-1),r-1<=0&&setTimeout(()=>{T(E),u(m.ROLLING)},500)}x.checkWin(),j(x)},S=n=>{if(console.log("Rolled:",n,d,a),g(!1),d){if(I(!1),n===a)l(n*2),u("INVESTING");else{l(0),c(1),T(i==="X"?"O":"X");return}c(1)}else c(1),l(n),u("INVESTING");g(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Tic Tac Gamble"}),e.jsxs("div",{className:`App ${o}`,children:[t.winner!=h.EMPTY?e.jsxs("h2",{children:[" Winner: ",t.winner," "]}):e.jsxs("h2",{children:["Current Turn: ",e.jsx("span",{className:`${i}-indicator`,children:i})]}),t.winner!=h.EMPTY?e.jsx(e.Fragment,{}):o===m.INVESTING?e.jsxs(e.Fragment,{children:[t.winner==h.EMPTY&&e.jsxs("label",{htmlFor:"",className:"points-to-invest",children:["Points To Invest: ",r]}),e.jsx(v,{board:t,turn:i,onTileAction:p,canPlay:!0})]}):o===m.ROLLING?e.jsxs(e.Fragment,{children:[e.jsx(P,{onRoll:S,startRolling:()=>g(!0)}),d?e.jsx("div",{className:"gamble-info",children:e.jsxs("h2",{children:["You need a ",a,"!"]})}):f?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",name:"gamble",id:"gamble-amount",className:"gamble-input",min:1,max:6,value:a,onChange:n=>{c(Math.min(6,Math.max(1,parseInt(n.target.value))))}}),a?e.jsx("button",{className:"gamble-button",onClick:()=>{I(!0)},children:"Gamble"}):e.jsx(e.Fragment,{})," "]})]}):e.jsx("div",{children:"Stealing Stage - Not Implemented"})]})]})}
