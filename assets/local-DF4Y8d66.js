import{c as G,j as e,r as n,s as R}from"./auth-BQqFf9p-.js";import{B as N,T as m,a as v,D as E}from"./dice-kvIfya4H.js";G.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(w,{})}));function w(){const[t,h]=n.useState(new N),[i,j]=n.useState("X"),[r,l]=n.useState(5),[o,u]=n.useState("ROLLING"),[a,c]=n.useState(1),[d,I]=n.useState(!1),[f,g]=n.useState(!1);n.useEffect(()=>{R()},[]),n.useEffect(()=>{const s=new N;s.initi(3,3),h(s)},[]);const p=(s,T,b)=>{const x=t.clone();if(o===m.INVESTING){if(r<=0)return;x.grid[s.y][s.x].investPoints(T,1),l(r-1),r-1<=0&&setTimeout(()=>{j(b),u(m.ROLLING)},500)}x.checkWin(),h(x)},S=s=>{if(console.log("Rolled:",s,d,a),g(!1),d){if(I(!1),s===a)l(s*2),u("INVESTING");else{l(0),c(1),j(i==="X"?"O":"X");return}c(1)}else c(1),l(s),u("INVESTING");g(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Tic Tac Gamble"}),e.jsxs("div",{className:`App ${o}`,children:[t.winner?e.jsxs("h2",{children:[" Winner: ",t.winner," "]}):e.jsxs("h2",{children:["Current Turn: ",e.jsx("span",{className:`${i}-indicator`,children:i})]}),o===m.INVESTING?e.jsxs(e.Fragment,{children:[!t.winner&&e.jsxs("label",{htmlFor:"",className:"points-to-invest",children:["Points To Invest: ",r]}),e.jsx(v,{board:t,turn:i,onTileAction:p,canPlay:!0})]}):o===m.ROLLING?e.jsxs(e.Fragment,{children:[e.jsx(E,{onRoll:S,startRolling:()=>g(!0)}),d?e.jsx("div",{className:"gamble-info",children:e.jsxs("h2",{children:["You need a ",a,"!"]})}):f?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",name:"gamble",id:"gamble-amount",className:"gamble-input",min:1,max:6,value:a,onChange:s=>{c(Math.min(6,Math.max(1,parseInt(s.target.value))))}}),a?e.jsx("button",{className:"gamble-button",onClick:()=>{I(!0)},children:"Gamble"}):e.jsx(e.Fragment,{})," "]})]}):e.jsx("div",{children:"Stealing Stage - Not Implemented"})]})]})}
